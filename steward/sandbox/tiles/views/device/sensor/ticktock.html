<li data-w="1" data-h="1" data-x="{{x}}" data-y="{{y}}" class="status {{status}} z-depth-3" id="device-{{id}}">
	<div class="device waves-effect waves-light">
		<div class="name">{{name}}</div>
		<div class="icon"><span><i class="fa fa-check-square-o" aria-hidden="true"></span></i>
		</div>
	</div>

  <script>
		(function() {
			var current_class = '{{status}}';
			update_functions['update_{{id}}'] = function(status, info) {
				if(!!status) {
					$('#device-{{id}}').removeClass(current_class).addClass(status);
					current_class = status;
				}
			}
			$('#device-{{id}}').on('click', function() {
				api.perform('{{id}}', 'toggle');
			});
			$('.modal').modal();
			$('#device-{{id}}').on('taphold', function() {
				Materialize.toast('I am a toast', 4000);
				$('#settings-{{id}}').modal('open');
			});
		})();
  </script>

	<div id="settings-{{id}}" class="modal">
    <div class="modal-content">
      <h4>Settings</h4>

<div class="row">
    <form>
			<div class="input-field">
				<input id="first_name" type="text" class="validate">
				<label for="first_name">First Name</label>
			</div>
			<div class="input-field">
				<input id="last_name" type="text" class="validate">
				<label for="last_name">Last Name</label>
			</div>
			
    </form>
  </div>

    </div>
    <div class="modal-footer">
      <a href="#!" class="modal-action modal-close waves-effect waves-green btn">Agree</a>
    </div>
  </div>
</li>
