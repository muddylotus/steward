<li data-w="{{w}}" data-h="{{h}}" data-x="{{x}}" data-y="{{y}}" class="status {{status}} z-depth-3 clock" id="device-{{id}}">
  <div class="device clock">
    <div id="hour" style="transform: rotate(0deg) translate(0%, -3px); transform-origin: 0 0; width:25%;height:6px;background-color:#fff;position:absolute;top:50%;left:50%;border-radius:3px;"></div>
    <div id="minute" style="transform: rotate(0deg) translate(0%, -2px); transform-origin: 0 0; width:45%;height:4px;background-color:#fff;position:absolute;top:50%;left:50%;border-radius:2px;"></div>
    <div id="date"></div>
  </div>

  <style>
  .device.clock {
    background-color: #5B85C8;
  }
  .device.clock #date {
    font-size: 0.2em;
    line-height: 100%;
    color: #fff;
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    text-align: center;
    margin: 5px;
  }
  </style>

  <script>
    update_functions['update_{{id}}'] = function(status, info) {
      if(!!info && !!info.date) {
        var date = new Date(info.date);
        $('#device-{{id}} #hour').css('transform', 'rotate('+((date.getHours() % 12)*30 + date.getMinutes()/2 - 90)+'deg) translate(0%, -3px)');
        $('#device-{{id}} #minute').css('transform', 'rotate('+(date.getMinutes()*6 - 90)+'deg) translate(0%, -2px)');
        $('#device-{{id}} #date').text($.datepicker.formatDate('DD, MM d', new Date()));
      }
    }
  </script>
</li>
